(function(t){function e(e){for(var a,s,i=e[0],n=e[1],c=e[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);u&&u(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),o()}function o(){for(var t,e=0;e<l.length;e++){for(var o=l[e],a=!0,i=1;i<o.length;i++){var n=o[i];0!==r[n]&&(a=!1)}a&&(l.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},r={app:0},l=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=n;l.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},4841:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("el-container",{attrs:{direction:"vertical"}},[o("el-header",{staticClass:"title"},[t._v("同庆工艺品有限公司")]),o("el-container",{attrs:{direction:"horizontal"}},[o("el-aside",{attrs:{width:"10%"}},[o("el-row",[o("el-col",[o("el-menu",{attrs:{"default-active":"/order",router:""}},[o("el-menu-item",{attrs:{index:"/order"}},[o("span",[t._v("订单管理")])])],1),o("el-menu",{attrs:{"default-active":"/inStorage",router:""}},[o("el-menu-item",{attrs:{index:"/inStorage"}},[o("span",[t._v("入库管理")])])],1),o("el-menu",{attrs:{"default-active":"/outStorage",router:""}},[o("el-menu-item",{attrs:{index:"/outStorage"}},[o("span",[t._v("出库管理")])])],1),o("el-menu",{attrs:{"default-active":"/report",router:""}},[o("el-menu-item",{attrs:{index:"/report"}},[o("span",[t._v("报表统计")])])],1),o("el-menu",{attrs:{"default-active":"/dict",router:""}},[o("el-menu-item",{attrs:{index:"/dict"}},[o("span",[t._v("字典管理")])])],1)],1)],1)],1),o("el-main",[o("router-view")],1)],1)],1)],1)},l=[],s={name:"App",data:function(){return{activeIndex:"/"}}},i=s,n=(o("034f"),o("2877")),c=Object(n["a"])(i,r,l,!1,null,null,null),u=c.exports,m=o("5c96"),p=o.n(m),d=o("8c4f"),f=(o("0fae"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("el-drawer",{attrs:{visible:t.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.draweradd=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"新增订单"}},[o("el-form",{ref:"formout",attrs:{rules:t.rules,model:t.formout,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.customerName,callback:function(e){t.$set(t.formout,"customerName",e)},expression:"formout.customerName"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleAddSuccess,"before-upload":t.beforeAddUpload}},[t.formout.image?o("img",{staticClass:"avatar",attrs:{src:t.formout.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formout.poNum,callback:function(e){t.$set(t.formout,"poNum",e)},expression:"formout.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formout.item,callback:function(e){t.$set(t.formout,"item",e)},expression:"formout.item"}})],1),o("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.color,callback:function(e){t.$set(t.formout,"color",e)},expression:"formout.color"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"数量",prop:"count"}},[o("el-input",{model:{value:t.formout.count,callback:function(e){t.$set(t.formout,"count",e)},expression:"formout.count"}})],1),o("el-form-item",{attrs:{required:!0,label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.price,callback:function(e){t.$set(t.formout,"price",e)},expression:"formout.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.sum,callback:function(e){t.$set(t.formout,"sum",e)},expression:"formout.sum"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("提交")]),o("el-button",{on:{click:function(e){return t.resetForm("formout")}}},[t._v("重置")])],1)],1)],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawerupdate=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"编辑订单"}},[o("el-form",{ref:"formoutupdate",attrs:{rules:t.rules,model:t.formoutupdate,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.customerNameId,callback:function(e){t.$set(t.formoutupdate,"customerNameId",e)},expression:"formoutupdate.customerNameId"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleUpdateSuccess,"before-upload":t.beforeUpdateUpload}},[t.formoutupdate.image?o("img",{staticClass:"avatar",attrs:{src:t.formoutupdate.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formoutupdate.poNum,callback:function(e){t.$set(t.formoutupdate,"poNum",e)},expression:"formoutupdate.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formoutupdate.item,callback:function(e){t.$set(t.formoutupdate,"item",e)},expression:"formoutupdate.item"}})],1),o("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.colorId,callback:function(e){t.$set(t.formoutupdate,"colorId",e)},expression:"formoutupdate.colorId"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"数量",prop:"count"}},[o("el-input",{model:{value:t.formoutupdate.count,callback:function(e){t.$set(t.formoutupdate,"count",e)},expression:"formoutupdate.count"}})],1),o("el-form-item",{attrs:{required:!0,label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.price,callback:function(e){t.$set(t.formoutupdate,"price",e)},expression:"formoutupdate.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.sum,callback:function(e){t.$set(t.formoutupdate,"sum",e)},expression:"formoutupdate.sum"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitFormUpdate()}}},[t._v("提交修改")])],1)],1)],1)],1)],1)])],1)],1),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("客户名称：")])]),o("el-col",{attrs:{span:5}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.customerNameSelect,callback:function(e){t.customerNameSelect=e},expression:"customerNameSelect"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("时间范围：")])]),o("el-col",{attrs:{span:8}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),o("el-col",{attrs:{span:7}},[o("el-button-group",[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(e){return t.getList()}}},[t._v("搜索")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增订单信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(e){t.draweradd=!0}}},[t._v("新增")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(e){return t.remove()}}},[t._v("删除")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[o("el-button",{directives:[{name:"print",rawName:"v-print",value:t.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[t._v("打印")])],1)],1)],1)],1),o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("div",{staticStyle:{display:"none"}},[o("el-table",{ref:"print",attrs:{id:"print",data:t.tableData},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"100"}}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"100"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"100"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),o("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"80"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"100"}})],1)],1),o("el-table",{attrs:{data:t.tableData,height:t.autoheight},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{type:"selection",width:"60"}}),o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"200"}}),o("el-table-column",{attrs:{prop:"image",label:"产品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{width:"50%",height:"50%"}},[o("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}])}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"180"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"180"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),o("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"60"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),o("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(o){return t.info(e.row)}}})],1)]}}])})],1)],1)],1),o("el-row",[o("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[50,200,1e3,1e4],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)}),b=[],h=o("b85c"),g=o("bc3a"),v=o.n(g),w={name:"order",data:function(){var t=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))},e=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))};return{tableData:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],formout:{},formoutupdate:{},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,print:{id:"print",popTitle:"订单",previewTitle:"订单"},rules:{count:[{validator:t,trigger:"blur"}],price:[{validator:e,trigger:"blur"}]},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-6048e5),t.$emit("pick",[o,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-2592e6),t.$emit("pick",[o,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-7776e6),t.$emit("pick",[o,e])}}]}}},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}},methods:{getType:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(e){t.customerNameOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(e){t.colorOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(e){t.bakeOptions=e.data.rs})).catch((function(t){console.log(t)}))},getList:function(){var t=this;console.log("this.time",this.time);var e="",o="";null!=this.time&&(e=this.time[0],o=this.time[1]),v.a.get(this.global.apiUrl+"order",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,starttime:e,endtime:o}}).then((function(e){t.tableData=e.data.list,t.totalRowCount=e.data.totalRowCount})).catch((function(t){console.log(t)}))},onTableSelectChange:function(t){var e,o=[],a=Object(h["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;o.push(r.id)}}catch(l){a.e(l)}finally{a.f()}this.idarr=o},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageIndex=t,this.getList()},info:function(t){this.drawerupdate=!0,this.formoutupdate=t},submitForm:function(){var t=this;this.$refs["formout"].validate((function(e){e&&v.a.post(t.global.apiUrl+"order",t.formout,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"创建成功",type:"success"}),t.getList(),t.draweradd=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},submitFormUpdate:function(){var t=this;this.$refs["formoutupdate"].validate((function(e){e&&v.a.put(t.global.apiUrl+"order",t.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.getList(),t.drawerupdate=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},resetForm:function(t){this.$refs[t].resetFields()},remove:function(){var t=this,e=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"order",{data:e},{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.getList()):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))},handleAddSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+e.response.rs),this.formout.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeAddUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},handleUpdateSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+e.response.rs),this.formoutupdate.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeUpdateUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传头像图片大小不能超过 10MB!"),e}}},y=w,C=(o("b7ce"),Object(n["a"])(y,f,b,!1,null,null,null)),k=C.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("el-drawer",{attrs:{visible:t.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.draweradd=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"新增入库"}},[o("el-form",{ref:"formout",attrs:{rules:t.rules,model:t.formout,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.customerName,callback:function(e){t.$set(t.formout,"customerName",e)},expression:"formout.customerName"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleAddSuccess,"before-upload":t.beforeAddUpload}},[t.formout.image?o("img",{staticClass:"avatar",attrs:{src:t.formout.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"品名",prop:"name"}},[o("el-input",{model:{value:t.formout.name,callback:function(e){t.$set(t.formout,"name",e)},expression:"formout.name"}})],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formout.poNum,callback:function(e){t.$set(t.formout,"poNum",e)},expression:"formout.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formout.item,callback:function(e){t.$set(t.formout,"item",e)},expression:"formout.item"}})],1),o("el-form-item",{attrs:{required:!0,label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.color,callback:function(e){t.$set(t.formout,"color",e)},expression:"formout.color"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"总订单量",prop:"count"}},[o("el-input",{model:{value:t.formout.count,callback:function(e){t.$set(t.formout,"count",e)},expression:"formout.count"}})],1),o("el-form-item",{attrs:{label:"总个数",prop:"bunchCount"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.bunchCount,callback:function(e){t.$set(t.formout,"bunchCount",e)},expression:"formout.bunchCount"}})],1),o("el-form-item",{attrs:{required:!0,label:"烤厅",prop:"bake"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.bake,callback:function(e){t.$set(t.formout,"bake",e)},expression:"formout.bake"}},t._l(t.bakeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"入库数量",prop:"inCount"}},[o("el-input",{model:{value:t.formout.inCount,callback:function(e){t.$set(t.formout,"inCount",e)},expression:"formout.inCount"}})],1),o("el-form-item",{attrs:{label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.price,callback:function(e){t.$set(t.formout,"price",e)},expression:"formout.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.sum,callback:function(e){t.$set(t.formout,"sum",e)},expression:"formout.sum"}})],1),o("el-form-item",{attrs:{required:!0,label:"来料类别",prop:"incomingType"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.incomingType,callback:function(e){t.$set(t.formout,"incomingType",e)},expression:"formout.incomingType"}},t._l(t.incomingTypeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("提交")]),o("el-button",{on:{click:function(e){return t.resetForm("formout")}}},[t._v("重置")])],1)],1)],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawerupdate=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"编辑入库"}},[o("el-form",{ref:"formoutupdate",attrs:{rules:t.rules,model:t.formoutupdate,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.customerNameId,callback:function(e){t.$set(t.formoutupdate,"customerNameId",e)},expression:"formoutupdate.customerNameId"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleUpdateSuccess,"before-upload":t.beforeUpdateUpload}},[t.formoutupdate.image?o("img",{staticClass:"avatar",attrs:{src:t.formoutupdate.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"品名",prop:"name"}},[o("el-input",{model:{value:t.formoutupdate.name,callback:function(e){t.$set(t.formoutupdate,"name",e)},expression:"formoutupdate.name"}})],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formoutupdate.poNum,callback:function(e){t.$set(t.formoutupdate,"poNum",e)},expression:"formoutupdate.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formoutupdate.item,callback:function(e){t.$set(t.formoutupdate,"item",e)},expression:"formoutupdate.item"}})],1),o("el-form-item",{attrs:{required:!0,label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.colorId,callback:function(e){t.$set(t.formoutupdate,"colorId",e)},expression:"formoutupdate.colorId"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"总订单量",prop:"count"}},[o("el-input",{model:{value:t.formoutupdate.count,callback:function(e){t.$set(t.formoutupdate,"count",e)},expression:"formoutupdate.count"}})],1),o("el-form-item",{attrs:{label:"总个数",prop:"bunchCount"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.bunchCount,callback:function(e){t.$set(t.formoutupdate,"bunchCount",e)},expression:"formoutupdate.bunchCount"}})],1),o("el-form-item",{attrs:{required:!0,label:"烤厅",prop:"bake"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.bakeId,callback:function(e){t.$set(t.formoutupdate,"bakeId",e)},expression:"formoutupdate.bakeId"}},t._l(t.bakeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"入库数量",prop:"inCount"}},[o("el-input",{model:{value:t.formoutupdate.inCount,callback:function(e){t.$set(t.formoutupdate,"inCount",e)},expression:"formoutupdate.inCount"}})],1),o("el-form-item",{attrs:{label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.price,callback:function(e){t.$set(t.formoutupdate,"price",e)},expression:"formoutupdate.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.sum,callback:function(e){t.$set(t.formoutupdate,"sum",e)},expression:"formoutupdate.sum"}})],1),o("el-form-item",{attrs:{required:!0,label:"来料类别",prop:"incomingType"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.incomingTypeId,callback:function(e){t.$set(t.formoutupdate,"incomingTypeId",e)},expression:"formoutupdate.incomingTypeId"}},t._l(t.incomingTypeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitFormUpdate()}}},[t._v("提交修改")])],1)],1)],1)],1)],1)])],1)],1),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("客户名称：")])]),o("el-col",{attrs:{span:5}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.customerNameSelect,callback:function(e){t.customerNameSelect=e},expression:"customerNameSelect"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("时间范围：")])]),o("el-col",{attrs:{span:8}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),o("el-col",{attrs:{span:7}},[o("el-button-group",[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(e){return t.getList()}}},[t._v("搜索")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增入库信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(e){t.draweradd=!0}}},[t._v("新增")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(e){return t.remove()}}},[t._v("删除")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[o("el-button",{directives:[{name:"print",rawName:"v-print",value:t.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[t._v("打印")])],1)],1)],1)],1),o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("div",{staticStyle:{display:"none"}},[o("el-table",{ref:"print",attrs:{id:"print",data:t.tableDataPrint},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"80"}}),o("el-table-column",{attrs:{prop:"name",label:"品名",width:"50"}}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"80"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"80"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"50"}}),o("el-table-column",{attrs:{prop:"count",label:"总订单量",width:"100"}}),o("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"80"}}),o("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"50"}}),o("el-table-column",{attrs:{prop:"inCount",label:"入库数量",width:"80"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"80"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"incomingType",label:"来料类别",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"100"}})],1)],1),o("el-table",{attrs:{data:t.tableData,height:t.autoheight},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{type:"selection",width:"60"}}),o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"200"}}),o("el-table-column",{attrs:{prop:"image",label:"产品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{width:"50%",height:"50%"}},[o("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}])}),o("el-table-column",{attrs:{prop:"name",label:"品名",width:"140"}}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"180"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"180"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),o("el-table-column",{attrs:{prop:"count",label:"总订单量",width:"100"}}),o("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"70"}}),o("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"60"}}),o("el-table-column",{attrs:{prop:"inCount",label:"入库数量",width:"80"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"60"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"incomingType",label:"来料类别",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"140"}}),o("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(o){return t.info(e.row)}}})],1)]}}])})],1)],1)],1),o("el-row",[o("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[50,200,1e3,1e4],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},N=[],x={name:"inStorage",data:function(){var t=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))},e=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))},o=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))},a=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))};return{tableData:[],tableDataPrint:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],incomingTypeOptions:[],formout:{},formoutupdate:{},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,print:{id:"print",popTitle:"入库单",previewTitle:"入库单"},rules:{color:[{validator:t,trigger:"blur"}],bake:[{validator:e,trigger:"blur"}],inCount:[{validator:o,trigger:"blur"}],incomingType:[{validator:a,trigger:"blur"}]},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-6048e5),t.$emit("pick",[o,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-2592e6),t.$emit("pick",[o,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-7776e6),t.$emit("pick",[o,e])}}]}}},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}},methods:{getType:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(e){t.customerNameOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(e){t.colorOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(e){t.bakeOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"incomingtype"}}).then((function(e){t.incomingTypeOptions=e.data.rs})).catch((function(t){console.log(t)}))},getList:function(){var t=this,e="",o="";null!=this.time&&(e=this.time[0],o=this.time[1]),v.a.get(this.global.apiUrl+"inStorage",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,starttime:e,endtime:o}}).then((function(e){t.tableData=e.data.list,t.tableDataPrint=e.data.list,t.totalRowCount=e.data.totalRowCount})).catch((function(t){console.log(t)}))},getListByIds:function(t){var e=this;console.log(t),v.a.post(this.global.apiUrl+"inStorage/ids",t,{headers:{"Content-Type":"application/json"}}).then((function(t){e.tableDataPrint=t.data})).catch((function(t){console.log(t)}))},onTableSelectChange:function(t){var e,o=[],a=Object(h["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;o.push(r.id)}}catch(s){a.e(s)}finally{a.f()}if(this.idarr=o,0!=o){var l=JSON.parse(JSON.stringify(o));this.getListByIds(l)}},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageIndex=t,this.getList()},info:function(t){this.drawerupdate=!0,this.formoutupdate=t},submitForm:function(){var t=this;this.$refs["formout"].validate((function(e){e&&v.a.post(t.global.apiUrl+"inStorage",t.formout,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"创建成功",type:"success"}),t.getList(),t.draweradd=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},submitFormUpdate:function(){var t=this;this.$refs["formoutupdate"].validate((function(e){e&&v.a.put(t.global.apiUrl+"inStorage",t.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.getList(),t.drawerupdate=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},resetForm:function(t){this.$refs[t].resetFields()},remove:function(){var t=this,e=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"inStorage",{data:e},{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.getList()):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))},handleAddSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+e.response.rs),this.formout.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeAddUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},handleUpdateSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+e.response.rs),this.formoutupdate.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeUpdateUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传头像图片大小不能超过 10MB!"),e}}},$=x,_=(o("65da"),Object(n["a"])($,S,N,!1,null,null,null)),O=_.exports,U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("el-drawer",{attrs:{visible:t.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.draweradd=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"新增出库"}},[o("el-form",{ref:"formout",attrs:{rules:t.rules,model:t.formout,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.customerName,callback:function(e){t.$set(t.formout,"customerName",e)},expression:"formout.customerName"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleAddSuccess,"before-upload":t.beforeAddUpload}},[t.formout.image?o("img",{staticClass:"avatar",attrs:{src:t.formout.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"品名",prop:"name"}},[o("el-input",{model:{value:t.formout.name,callback:function(e){t.$set(t.formout,"name",e)},expression:"formout.name"}})],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formout.poNum,callback:function(e){t.$set(t.formout,"poNum",e)},expression:"formout.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formout.item,callback:function(e){t.$set(t.formout,"item",e)},expression:"formout.item"}})],1),o("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.color,callback:function(e){t.$set(t.formout,"color",e)},expression:"formout.color"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"数量",prop:"count"}},[o("el-input",{model:{value:t.formout.count,callback:function(e){t.$set(t.formout,"count",e)},expression:"formout.count"}})],1),o("el-form-item",{attrs:{label:"总个数",prop:"bunchCount"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.bunchCount,callback:function(e){t.$set(t.formout,"bunchCount",e)},expression:"formout.bunchCount"}})],1),o("el-form-item",{attrs:{label:"烤厅",prop:"bake"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formout.bake,callback:function(e){t.$set(t.formout,"bake",e)},expression:"formout.bake"}},t._l(t.bakeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"出库数量",prop:"outCount"}},[o("el-input",{model:{value:t.formout.outCount,callback:function(e){t.$set(t.formout,"outCount",e)},expression:"formout.outCount"}})],1),o("el-form-item",{attrs:{label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.price,callback:function(e){t.$set(t.formout,"price",e)},expression:"formout.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formout.sum,callback:function(e){t.$set(t.formout,"sum",e)},expression:"formout.sum"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("提交")]),o("el-button",{on:{click:function(e){return t.resetForm("formout")}}},[t._v("重置")])],1)],1)],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawerupdate=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("el-tabs",[o("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:t.scrollerHeight},attrs:{label:"编辑出库"}},[o("el-form",{ref:"formoutupdate",attrs:{rules:t.rules,model:t.formoutupdate,size:"small"}},[o("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.customerNameId,callback:function(e){t.$set(t.formoutupdate,"customerNameId",e)},expression:"formoutupdate.customerNameId"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,"on-success":t.handleUpdateSuccess,"before-upload":t.beforeUpdateUpload}},[t.formoutupdate.image?o("img",{staticClass:"avatar",attrs:{src:t.formoutupdate.image}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("el-form-item",{attrs:{label:"品名",prop:"name"}},[o("el-input",{model:{value:t.formoutupdate.name,callback:function(e){t.$set(t.formoutupdate,"name",e)},expression:"formoutupdate.name"}})],1),o("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[o("el-input",{model:{value:t.formoutupdate.poNum,callback:function(e){t.$set(t.formoutupdate,"poNum",e)},expression:"formoutupdate.poNum"}})],1),o("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[o("el-input",{model:{value:t.formoutupdate.item,callback:function(e){t.$set(t.formoutupdate,"item",e)},expression:"formoutupdate.item"}})],1),o("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.colorId,callback:function(e){t.$set(t.formoutupdate,"colorId",e)},expression:"formoutupdate.colorId"}},t._l(t.colorOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"数量",prop:"count"}},[o("el-input",{model:{value:t.formoutupdate.count,callback:function(e){t.$set(t.formoutupdate,"count",e)},expression:"formoutupdate.count"}})],1),o("el-form-item",{attrs:{label:"总个数",prop:"bunchCount"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.bunchCount,callback:function(e){t.$set(t.formoutupdate,"bunchCount",e)},expression:"formoutupdate.bunchCount"}})],1),o("el-form-item",{attrs:{label:"烤厅",prop:"bake"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.formoutupdate.bakeId,callback:function(e){t.$set(t.formoutupdate,"bakeId",e)},expression:"formoutupdate.bakeId"}},t._l(t.bakeOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{required:!0,label:"出库数量",prop:"outCount"}},[o("el-input",{model:{value:t.formoutupdate.outCount,callback:function(e){t.$set(t.formoutupdate,"outCount",e)},expression:"formoutupdate.outCount"}})],1),o("el-form-item",{attrs:{label:"单价",prop:"price"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.price,callback:function(e){t.$set(t.formoutupdate,"price",e)},expression:"formoutupdate.price"}})],1),o("el-form-item",{attrs:{label:"合计",prop:"sum"}},[o("el-input",{attrs:{type:"number"},model:{value:t.formoutupdate.sum,callback:function(e){t.$set(t.formoutupdate,"sum",e)},expression:"formoutupdate.sum"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitFormUpdate()}}},[t._v("提交修改")])],1)],1)],1)],1)],1)])],1)],1),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("客户名称：")])]),o("el-col",{attrs:{span:5}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.customerNameSelect,callback:function(e){t.customerNameSelect=e},expression:"customerNameSelect"}},t._l(t.customerNameOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.itemName,value:t.id}})})),1)],1),o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("时间范围：")])]),o("el-col",{attrs:{span:8}},[o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),o("el-col",{attrs:{span:7}},[o("el-button-group",[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(e){return t.getList()}}},[t._v("搜索")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增出库信息",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(e){t.draweradd=!0}}},[t._v("新增")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(e){return t.remove()}}},[t._v("删除")])],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[o("el-button",{directives:[{name:"print",rawName:"v-print",value:t.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[t._v("打印")])],1)],1)],1)],1),o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:24}},[o("div",{staticStyle:{display:"none"}},[o("el-table",{ref:"print",attrs:{id:"print",data:t.tableData},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"100"}}),o("el-table-column",{attrs:{prop:"name",label:"品名",width:"50"}}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"100"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"100"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"50"}}),o("el-table-column",{attrs:{prop:"count",label:"数量",width:"50"}}),o("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"80"}}),o("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"50"}}),o("el-table-column",{attrs:{prop:"outCount",label:"出库数量",width:"80"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"80"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"100"}})],1)],1),o("el-table",{attrs:{data:t.tableData,height:t.autoheight},on:{"selection-change":t.onTableSelectChange}},[o("el-table-column",{attrs:{type:"selection",width:"60"}}),o("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"200"}}),o("el-table-column",{attrs:{prop:"image",label:"产品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{width:"50%",height:"50%"}},[o("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}])}),o("el-table-column",{attrs:{prop:"name",label:"品名",width:"200"}}),o("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"180"}}),o("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"180"}}),o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),o("el-table-column",{attrs:{prop:"count",label:"数量",width:"60"}}),o("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"70"}}),o("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"60"}}),o("el-table-column",{attrs:{prop:"outCount",label:"出库数量",width:"80"}}),o("el-table-column",{attrs:{prop:"price",label:"单价",width:"60"}}),o("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),o("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(o){return t.info(e.row)}}})],1)]}}])})],1)],1)],1),o("el-row",[o("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[50,200,1e3,1e4],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},T=[],z={name:"outStorage",data:function(){var t=function(t,e,o){return e?e.length>100?o(new Error("长度不能超过100")):void o():o(new Error("不能为空"))};return{tableData:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],formout:{},formoutupdate:{},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,print:{id:"print",popTitle:"出库单",previewTitle:"出库单"},rules:{outCount:[{validator:t,trigger:"blur"}]},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-6048e5),t.$emit("pick",[o,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-2592e6),t.$emit("pick",[o,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,o=new Date;o.setTime(o.getTime()-7776e6),t.$emit("pick",[o,e])}}]}}},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}},methods:{getType:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(e){t.customerNameOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(e){t.colorOptions=e.data.rs})).catch((function(t){console.log(t)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(e){t.bakeOptions=e.data.rs})).catch((function(t){console.log(t)}))},getList:function(){var t=this,e="",o="";null!=this.time&&(e=this.time[0],o=this.time[1]),v.a.get(this.global.apiUrl+"outStorage",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,starttime:e,endtime:o}}).then((function(e){t.tableData=e.data.list,t.totalRowCount=e.data.totalRowCount})).catch((function(t){console.log(t)}))},onTableSelectChange:function(t){var e,o=[],a=Object(h["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;o.push(r.id)}}catch(l){a.e(l)}finally{a.f()}this.idarr=o},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageIndex=t,this.getList()},info:function(t){this.drawerupdate=!0,this.formoutupdate=t},submitForm:function(t){var e=this;this.$refs["formout"].validate((function(t){t&&v.a.post(e.global.apiUrl+"outStorage",e.formout,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"创建成功",type:"success"}),e.getList(),e.draweradd=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},submitFormUpdate:function(){var t=this;this.$refs["formoutupdate"].validate((function(e){e&&v.a.put(t.global.apiUrl+"outStorage",t.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.getList(),t.drawerupdate=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}))},resetForm:function(t){this.$refs[t].resetFields()},remove:function(){var t=this,e=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"outStorage",{data:e},{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.getList()):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)}))},handleAddSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+e.response.rs),this.formout.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeAddUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},handleUpdateSuccess:function(t,e){0==t.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+e.response.rs),this.formoutupdate.image=this.global.apiUrl+e.response.rs):this.$message({showClose:!0,message:t.rs,type:"error"})},beforeUpdateUpload:function(t){t.type;var e=t.size/1024/1024<10;return e||this.$message.error("上传头像图片大小不能超过 10MB!"),e}}},I=z,D=(o("b49f"),Object(n["a"])(I,U,T,!1,null,null,null)),L=D.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("span",{staticClass:"boxlable"},[t._v("客户名称")])]),o("el-row",{staticClass:"row"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(e){t.drawercustomer=!0}}},[t._v("新增")])],1),o("el-table",{attrs:{data:t.tableCustomer,height:t.autoheight}},[o("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("span",{staticClass:"boxlable"},[t._v("镀金颜色")])]),o("el-row",{staticClass:"row"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(e){t.drawercolor=!0}}},[t._v("新增")])],1),o("el-table",{attrs:{data:t.tableColor,height:t.autoheight}},[o("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1)],1),o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("span",{staticClass:"boxlable"},[t._v("烤厅")])]),o("el-row",{staticClass:"row"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(e){t.drawerct=!0}}},[t._v("新增")])],1),o("el-table",{attrs:{data:t.tableCt,height:t.autoheight}},[o("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("span",{staticClass:"boxlable"},[t._v("来料类别")])]),o("el-row",{staticClass:"row"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(e){t.drawercomingtype=!0}}},[t._v("新增")])],1),o("el-table",{attrs:{data:t.tableComingtype,height:t.autoheight}},[o("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1)],1),o("el-drawer",{attrs:{visible:t.drawercustomer,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawercustomer=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("div",{staticStyle:{"padding-bottom":"1%"}},[o("span",{staticClass:"boxlable"},[t._v("客户名称")])]),o("el-divider"),o("el-form",{ref:"formCustomer",attrs:{rules:t.rules,model:t.formCustomer,size:"small"}},[o("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formCustomer.itemName,callback:function(e){t.$set(t.formCustomer,"itemName",e)},expression:"formCustomer.itemName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("customer")}}},[t._v("添加")])],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawercolor,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawercolor=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("div",{staticStyle:{"padding-bottom":"1%"}},[o("span",{staticClass:"boxlable"},[t._v("镀金颜色")])]),o("el-divider"),o("el-form",{ref:"formColor",attrs:{rules:t.rules,model:t.formColor,size:"small"}},[o("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formColor.itemName,callback:function(e){t.$set(t.formColor,"itemName",e)},expression:"formColor.itemName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("color")}}},[t._v("添加")])],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawerct,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawerct=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("div",{staticStyle:{"padding-bottom":"1%"}},[o("span",{staticClass:"boxlable"},[t._v("烤厅")])]),o("el-divider"),o("el-form",{ref:"formCt",attrs:{rules:t.rules,model:t.formCt,size:"small"}},[o("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formCt.itemName,callback:function(e){t.$set(t.formCt,"itemName",e)},expression:"formCt.itemName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ct")}}},[t._v("添加")])],1)],1)],1)]),o("el-drawer",{attrs:{visible:t.drawercomingtype,"with-header":!1,size:"50%"},on:{"update:visible":function(e){t.drawercomingtype=e}}},[o("div",{staticStyle:{padding:"4% 10%"}},[o("div",{staticStyle:{"padding-bottom":"1%"}},[o("span",{staticClass:"boxlable"},[t._v("来料类别")])]),o("el-divider"),o("el-form",{ref:"formComingtype",attrs:{rules:t.rules,model:t.formComingtype,size:"small"}},[o("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formComingtype.itemName,callback:function(e){t.$set(t.formComingtype,"itemName",e)},expression:"formComingtype.itemName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("incomingtype")}}},[t._v("添加")])],1)],1)],1)])],1)},j=[],F={name:"dict",data:function(){var t=function(t,e,o){if(!e)return o(new Error("不能为空"));o()};return{tableCustomer:[],tableColor:[],tableCt:[],tableComingtype:[],formCustomer:{},formColor:{},formCt:{},formComingtype:{},drawercustomer:!1,drawercolor:!1,drawerct:!1,drawercomingtype:!1,rules:{itemName:[{validator:t,trigger:"blur"}]}}},created:function(){this.getCustomerDictList(),this.getColorDictList(),this.getCtDictList(),this.getComingtypeDictList(),this.autoheight=window.innerHeight/2-200},computed:{scrollerHeight:function(){return window.innerHeight-150+"px"}},methods:{getCustomerDictList:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(e){t.tableCustomer=e.data.rs})).catch((function(t){console.log(t)}))},getColorDictList:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(e){t.tableColor=e.data.rs})).catch((function(t){console.log(t)}))},getCtDictList:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(e){t.tableCt=e.data.rs})).catch((function(t){console.log(t)}))},getComingtypeDictList:function(){var t=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"incomingtype"}}).then((function(e){t.tableComingtype=e.data.rs})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this,o={};"customer"==t?o={type:t,typeName:"客户名称",itemName:this.formCustomer.itemName}:"color"==t?o={type:t,typeName:"镀金颜色",itemName:this.formColor.itemName}:"ct"==t?o={type:t,typeName:"烤厅",itemName:this.formCt.itemName}:"incomingtype"==t&&(o={type:t,typeName:"来料类别",itemName:this.formComingtype.itemName}),v.a.post(this.global.apiUrl+"dict/item",o,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"创建成功",type:"success"}),e.getCustomerDictList(),e.getColorDictList(),e.getCtDictList(),e.getComingtypeDictList(),e.drawercustomer=!1,e.drawercolor=!1,e.drawerct=!1,e.drawercomingtype=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(t){console.log(t)}))}}},M=F,H=(o("c69a"),Object(n["a"])(M,E,j,!1,null,null,null)),P=H.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("i",{staticClass:"el-icon-s-data selectlable"}),o("span",{staticClass:"boxlable"},[t._v("订单统计")])]),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable"},[t._v("月份：")])]),o("el-col",{attrs:{span:4}},[o("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:t.orderChange},model:{value:t.ordermonth,callback:function(e){t.ordermonth=e},expression:"ordermonth"}})],1)],1),o("el-divider"),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v("总计")])]),o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v("镀金颜色分类统计")])])],1),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v(t._s(this.orderStatistics))])]),o("el-col",{attrs:{span:12}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderByColor,"default-sort":{prop:"count",order:"descending"}}},[o("el-table-column",{attrs:{prop:"color",label:"镀金颜色",sortable:"",width:"180"}}),o("el-table-column",{attrs:{prop:"count",label:"总量",sortable:"",width:"80"}})],1)],1)],1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("el-row",{staticClass:"row"},[o("i",{staticClass:"el-icon-s-data selectlable"}),o("span",{staticClass:"boxlable"},[t._v("入库统计")])]),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:2}},[o("span",{staticClass:"selectlable selectrow"},[t._v("月份：")])]),o("el-col",{attrs:{span:4}},[o("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:t.inStorageChange},model:{value:t.inStoragemonth,callback:function(e){t.inStoragemonth=e},expression:"inStoragemonth"}})],1)],1),o("el-divider"),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v("总计")])]),o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v("返修统计")])])],1),o("el-row",{staticClass:"row selectrow"},[o("el-col",{attrs:{span:12}},[o("span",{staticClass:"numlable"},[t._v(t._s(this.inStorageStatistics))])]),o("el-col",{attrs:{span:12}},[o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:18}},[o("span",{staticClass:"boxlable"},[t._v("返镀件个数")])]),o("el-col",{attrs:{span:6}},[o("span",{staticClass:"boxlable"},[t._v(t._s(this.reInStorageCount))])])],1),o("el-row",{staticClass:"row"},[o("el-col",{attrs:{span:18}},[o("span",{staticClass:"boxlable"},[t._v("返修率")])]),o("el-col",{attrs:{span:6}},[o("span",{staticClass:"boxlable"},[t._v(t._s(this.reInStorageRatio)+"%")])])],1)],1)],1)],1)],1)],1)],1)},q=[],A={name:"report",data:function(){return{ordermonth:"",inStoragemonth:"",orderStatistics:0,inStorageStatistics:0,orderByColor:[],reInStorageCount:0,reInStorageRatio:0}},created:function(){this.autoheight=window.innerHeight/2-200},computed:{scrollerHeight:function(){return window.innerHeight-150+"px"}},methods:{getOrderStatistics:function(){var t=this;null!=this.ordermonth?v.a.get(this.global.apiUrl+"order/statistics",{params:{time:this.ordermonth}}).then((function(e){0==e.data.s?t.orderStatistics=e.data.rs:t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)})):this.orderStatistics=0},getOrderStatisticsColor:function(){var t=this;null!=this.ordermonth?v.a.get(this.global.apiUrl+"order/statistics/color",{params:{time:this.ordermonth}}).then((function(e){0==e.data.s?t.orderByColor=e.data.rs:t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)})):this.orderByColor=[]},getInStorageStatistics:function(){var t=this;null!=this.inStoragemonth?v.a.get(this.global.apiUrl+"inStorage/statistics",{params:{time:this.inStoragemonth}}).then((function(e){0==e.data.s?t.inStorageStatistics=e.data.rs:t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)})):this.inStorageStatistics=0},getInStorageStatisticsRatio:function(){var t=this;null!=this.inStoragemonth?v.a.get(this.global.apiUrl+"inStorage/statistics/reratio",{params:{time:this.inStoragemonth}}).then((function(e){0==e.data.s?(t.reInStorageRatio=e.data.rs.ratio,t.reInStorageCount=e.data.rs.recount):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(t){console.log(t)})):this.inStorageStatistics=0},orderChange:function(t){console.log(t),this.getOrderStatistics(),this.getOrderStatisticsColor()},inStorageChange:function(t){console.log(t),this.getInStorageStatistics(),this.getInStorageStatisticsRatio()}}},B=A,J=(o("c402"),Object(n["a"])(B,R,q,!1,null,null,null)),K=J.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"text-align":"center"}},[o("P",[o("span",{staticStyle:{"font-family":"微软雅黑","font-size":"40px","font-weight":"bold",color:"#999"}},[t._v("同庆库存管理系统")])])],1)},Q=[],V={name:"Index",data:function(){return{}},created:function(){},methods:{}},W=V,X=Object(n["a"])(W,G,Q,!1,null,"38e0b18c",null),Y=X.exports,Z=[{path:"/",component:Y,meta:{title:"Index"}},{path:"/order",component:k,meta:{title:"order"}},{path:"/inStorage",component:O,meta:{title:"inStorage"}},{path:"/outStorage",component:L,meta:{title:"outStorage"}},{path:"/dict",component:P,meta:{title:"dict"}},{path:"/report",component:K,meta:{title:"report"}}],tt=Z,et=o("313e"),ot=o.n(et),at="http://localhost:8080/",rt={apiUrl:at},lt=o("7b1d"),st=o.n(lt);a["default"].config.productionTip=!1,a["default"].use(p.a),a["default"].use(d["a"]),a["default"].use(st.a),a["default"].prototype.$echarts=ot.a,a["default"].prototype.global=rt;var it=new d["a"]({routes:tt});document.title="Klog",new a["default"]({router:it,render:function(t){return t(u)}}).$mount("#app")},"65da":function(t,e,o){"use strict";o("7628")},7628:function(t,e,o){},8003:function(t,e,o){},"85ec":function(t,e,o){},a8ec:function(t,e,o){},b49f:function(t,e,o){"use strict";o("8003")},b7ce:function(t,e,o){"use strict";o("c010")},c010:function(t,e,o){},c402:function(t,e,o){"use strict";o("4841")},c69a:function(t,e,o){"use strict";o("a8ec")}});
//# sourceMappingURL=app.05b689b6.js.map