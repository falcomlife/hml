(function(e){function t(t){for(var o,s,i=t[0],n=t[1],c=t[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],o=!0,i=1;i<a.length;i++){var n=a[i];0!==r[n]&&(o=!1)}o&&(l.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},l=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=n;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=l,e.exports=r,r.id="4678"},4841:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{attrs:{direction:"vertical"}},[a("el-header",{staticClass:"title"},[e._v("青岛同庆工艺品有限公司")]),a("el-container",{attrs:{direction:"horizontal"}},[a("el-aside",{staticClass:"self-menu",attrs:{width:"10%"}},[a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/",router:""}},[a("el-menu-item",{attrs:{index:"/"}},[a("span",{staticClass:"self-menu-item"},[e._v("首页")])])],1),a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/order",router:""}},[a("el-menu-item",{attrs:{index:"/order"}},[a("span",{staticClass:"self-menu-item"},[e._v("订单管理")])])],1),a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/inStorage",router:""}},[a("el-menu-item",{attrs:{index:"/inStorage"}},[a("span",[e._v("入库管理")])])],1),a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/outStorage",router:""}},[a("el-menu-item",{attrs:{index:"/outStorage"}},[a("span",[e._v("出库管理")])])],1),a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/report",router:""}},[a("el-menu-item",{attrs:{index:"/report"}},[a("span",[e._v("报表统计")])])],1),a("el-menu",{staticStyle:{"border-right":"solid 0px #ffffff"},attrs:{"default-active":"/dict",router:""}},[a("el-menu-item",{attrs:{index:"/dict"}},[a("span",[e._v("字典管理")])])],1)],1),a("el-main",[a("router-view")],1)],1)],1)],1)},l=[],s={name:"App",data:function(){return{activeIndex:"/",autoheight:0}},created:function(){}},i=s,n=(a("034f"),a("2877")),c=Object(n["a"])(i,r,l,!1,null,null,null),u=c.exports,m=a("5c96"),d=a.n(m),p=a("8c4f"),f=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("el-drawer",{attrs:{visible:e.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.draweradd=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"新增订单"}},[a("el-form",{ref:"formout",attrs:{rules:e.rules,model:e.formout,size:"small"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.customerName,callback:function(t){e.$set(e.formout,"customerName",t)},expression:"formout.customerName"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{model:{value:e.formout.poNum,callback:function(t){e.$set(e.formout,"poNum",t)},expression:"formout.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{model:{value:e.formout.item,callback:function(t){e.$set(e.formout,"item",t)},expression:"formout.item"}})],1),a("el-form-item",{attrs:{required:!0,label:"镀金颜色",prop:"color"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.color,callback:function(t){e.$set(e.formout,"color",t)},expression:"formout.color"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"数量",prop:"count"}},[a("el-input",{attrs:{type:"number"},on:{change:e.formoutValueChange},model:{value:e.formout.count,callback:function(t){e.$set(e.formout,"count",t)},expression:"formout.count"}})],1),a("el-form-item",{attrs:{label:"组件数量",prop:"partSumCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formout.partSumCount,callback:function(t){e.$set(e.formout,"partSumCount",t)},expression:"formout.partSumCount"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"price"}},[a("el-input",{attrs:{type:"number"},on:{change:e.formoutValueChange},model:{value:e.formout.price,callback:function(t){e.$set(e.formout,"price",t)},expression:"formout.price"}})],1),a("el-form-item",{attrs:{label:"合计",prop:"sum"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formout.sum,callback:function(t){e.$set(e.formout,"sum",t)},expression:"formout.sum"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("formout")}}},[e._v("重置")])],1)],1)],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawerupdate=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"编辑订单"}},[a("el-form",{ref:"formoutupdate",attrs:{rules:e.rules,model:e.formoutupdate,size:"small"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.customerNameId,callback:function(t){e.$set(e.formoutupdate,"customerNameId",t)},expression:"formoutupdate.customerNameId"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{model:{value:e.formoutupdate.poNum,callback:function(t){e.$set(e.formoutupdate,"poNum",t)},expression:"formoutupdate.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{model:{value:e.formoutupdate.item,callback:function(t){e.$set(e.formoutupdate,"item",t)},expression:"formoutupdate.item"}})],1),a("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.colorId,callback:function(t){e.$set(e.formoutupdate,"colorId",t)},expression:"formoutupdate.colorId"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"数量",prop:"count"}},[a("el-input",{attrs:{type:"number"},on:{change:e.formoutupdateValueChange},model:{value:e.formoutupdate.count,callback:function(t){e.$set(e.formoutupdate,"count",t)},expression:"formoutupdate.count"}})],1),a("el-form-item",{attrs:{label:"组件数量",prop:"partSumCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formoutupdate.partSumCount,callback:function(t){e.$set(e.formoutupdate,"partSumCount",t)},expression:"formoutupdate.partSumCount"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"price"}},[a("el-input",{attrs:{type:"number"},on:{change:e.formoutupdateValueChange},model:{value:e.formoutupdate.price,callback:function(t){e.$set(e.formoutupdate,"price",t)},expression:"formoutupdate.price"}})],1),a("el-form-item",{attrs:{label:"合计",prop:"sum"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formoutupdate.sum,callback:function(t){e.$set(e.formoutupdate,"sum",t)},expression:"formoutupdate.sum"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormUpdate()}}},[e._v("提交修改")])],1)],1)],1)],1)],1)])],1)],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("客户名称")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.customerNameSelect,callback:function(t){e.customerNameSelect=t},expression:"customerNameSelect"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-col",{attrs:{span:1}},[a("span",{staticClass:"selectlable"},[e._v("编号")])]),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"82%"},attrs:{placeholder:"请输入编号",clearable:""},model:{value:e.codeSelect,callback:function(t){e.codeSelect=t},expression:"codeSelect"}})],1),a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("时间范围")])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("el-col",{attrs:{span:6}},[a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(t){return e.getList()}}},[e._v("搜索")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增订单信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(t){e.draweradd=!0}}},[e._v("新增")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(t){return e.remove()}}},[e._v("删除")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:e.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[e._v("打印")])],1)],1)],1)],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("PO号")])]),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"82%"},attrs:{placeholder:"请输入PO号",clearable:""},model:{value:e.poSelect,callback:function(t){e.poSelect=t},expression:"poSelect"}})],1)],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{display:"none"}},[a("div",{ref:"print",attrs:{id:"print"}},[a("div",[a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"100"}}),a("el-table-column",{attrs:{prop:"code",label:"编号",width:"180"}}),a("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"100"}}),a("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"100"}}),a("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),a("el-table-column",{attrs:{prop:"count",label:"数量",width:"100"}}),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"80"}}),a("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}})],1)],1),a("div",[a("span",{staticClass:"print-result"},[e._v("价格合计：")]),a("span",{staticClass:"print-result"},[e._v(e._s(this.totalPrice))]),a("span",{staticClass:"print-result"},[e._v("元")])]),a("div",{staticStyle:{float:"right"}},[a("div",{staticClass:"print-result"},[e._v("青岛同庆工艺品有限公司")]),a("div",{staticClass:"print-result"},[e._v(e._s(e.getCurrentTime()))])])])]),a("el-table",{attrs:{data:e.tableData,height:e.autoheight},on:{"selection-change":e.onTableSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("expandRow",{attrs:{order:e.row,expandType:"inStorageByOrder"}})]}}])}),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"200"}}),a("el-table-column",{attrs:{prop:"code",label:"编号",width:"180"}}),a("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"180"}}),a("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"180"}}),a("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"数量",width:"100"}}),a("el-table-column",{attrs:{prop:"partSumCount",label:"组件总数",width:"100"}}),a("el-table-column",{attrs:{prop:"partSumCountCal",label:"已入库组件总数",width:"140"}}),a("el-table-column",{attrs:{prop:"replatCount",label:"返镀数量",width:"100","label-class-name":"table-col-label-analy","class-name":"table-col-analy"}}),a("el-table-column",{attrs:{prop:"replatRatio",label:"返镀比率(%)","label-class-name":"table-col-label-analy","class-name":"table-col-analy",width:"100"}}),a("el-table-column",{attrs:{prop:"incomingCount",label:"来料异常数量","label-class-name":"table-col-label-analy","class-name":"table-col-analy",width:"110"}}),a("el-table-column",{attrs:{prop:"incomingRatio",label:"来料异常比率(%)","label-class-name":"table-col-label-analy","class-name":"table-col-analy",width:"130"}}),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"60"}}),a("el-table-column",{attrs:{prop:"sum",label:"合计",width:"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(a){return e.info(t.row)}}})],1)]}}])})],1)],1)],1),a("el-row",[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[20,50,100,500],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)}),b=[],h=(a("4160"),a("a9e3"),a("159b"),a("b85c")),g=a("bc3a"),v=a.n(g),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"100%",height:"1px"}})]),a("el-col",{attrs:{span:23}},["inStorageByOrder"==e.expandType?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableInStorageOrderData,"row-class-name":"expandtablebody","header-row-class-name":"expandtableheader"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("expandRow",{attrs:{inStorage:e.row,expandType:e.row.expandType}})]}}],null,!1,3970163939)}),a("el-table-column",{attrs:{label:"编号",prop:"code"}}),a("el-table-column",{attrs:{label:"品名",prop:"name"}}),a("el-table-column",{attrs:{label:"来料类别",prop:"incomingType"}}),a("el-table-column",{attrs:{label:"入库镀金颜色",prop:"color"}}),a("el-table-column",{attrs:{label:"烤厅",prop:"bake"}}),a("el-table-column",{attrs:{label:"图片",prop:"image"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"20%",height:"20%"}},[a("el-image",{attrs:{src:e.row.image,"preview-src-list":[e.row.image]}})],1)]}}],null,!1,332860335)}),a("el-table-column",{attrs:{label:"总个数",prop:"bunchCount"}}),a("el-table-column",{attrs:{label:"入库数量",prop:"inCount"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}})],1):e._e(),"outStoragesByInStorage"==e.expandType?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableOutStoragesData,"row-class-name":"expandtablebody","header-row-class-name":"expandtableheader"}},[a("el-table-column",{attrs:{label:"编号",prop:"code"}}),a("el-table-column",{attrs:{label:"出库类型",prop:"outType"}}),a("el-table-column",{attrs:{label:"总个数",prop:"bunchCount"}}),a("el-table-column",{attrs:{label:"出库数量",prop:"outCount"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}})],1):"outStorageByInStorage"==e.expandType?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableOutStorageData,"row-class-name":"expandtablebody","header-row-class-name":"expandtableheader"}},[a("el-table-column",{attrs:{label:"编号",prop:"code"}}),a("el-table-column",{attrs:{label:"出库类型",prop:"outType"}}),a("el-table-column",{attrs:{label:"总个数",prop:"bunchCount"}}),a("el-table-column",{attrs:{label:"出库数量",prop:"outCount"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}})],1):e._e()],1)],1)},w=[],C={name:"expandRow",data:function(){return{tableInStorageOrderData:{},tableOutStoragesData:{},tableOutStorageData:{}}},props:{order:{},inStorage:{},expandType:{}},created:function(){"inStorageByOrder"==this.expandType?this.getInStorageListByOrder():"outStoragesByInStorage"==this.expandType?this.getOutStorageListByInStorage():"outStorageByInStorage"==this.expandType&&this.getOutStorageByInStorage()},computed:{},methods:{getInStorageListByOrder:function(){var e=this;v.a.get(this.global.apiUrl+"inStorage/order",{params:{orderId:this.order.id}}).then((function(t){0==t.data.s?(console.log(t.data),e.tableInStorageOrderData=t.data.rs):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},getOutStorageListByInStorage:function(){var e=this;console.log("getOutStorageListByInStorage"),v.a.get(this.global.apiUrl+"outStorage/list",{params:{inStorageId:this.inStorage.id}}).then((function(t){0==t.data.s?(console.log("res",t),e.tableOutStoragesData=t.data.rs):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},getOutStorageByInStorage:function(){var e=this;v.a.get(this.global.apiUrl+"outStorage/one",{params:{outStorageId:this.inStorage.outStorageId}}).then((function(t){0==t.data.s?(console.log("res",t),e.tableOutStorageData=t.data.rs):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))}}},S=C,k=(a("72cd"),Object(n["a"])(S,y,w,!1,null,null,null)),N=k.exports,x=a("c1df"),_=a.n(x),I=a("7909"),j={name:"order",data:function(){return{tableData:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],codeSelect:"",poSelect:"",totalPrice:0,formout:{customerName:"",poNum:"",item:"",color:"",count:"",price:"",sum:""},formoutupdate:{customerName:"",poNum:"",item:"",color:"",count:"",price:"",sum:""},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,print:{id:"print",popTitle:"订单",previewTitle:"订单"},rules:{},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},components:{expandRow:N},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}},methods:{getType:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(t){e.customerNameOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(t){e.colorOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(t){e.bakeOptions=t.data.rs})).catch((function(e){console.log(e)}))},getList:function(){var e=this;console.log("this.time",this.time);var t="",a="";null!=this.time&&2==this.time.length&&(t=_()(this.time[0]).format("YYYY-MM-DD HH:mm:ss"),a=_()(this.time[1]).format("YYYY-MM-DD HH:mm:ss")),v.a.get(this.global.apiUrl+"order",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,code:this.codeSelect,po:this.poSelect,starttime:t,endtime:a}}).then((function(t){var a=0;e.tableData=t.data.list,e.totalRowCount=t.data.totalRowCount,t.data.list.forEach((function(t){a=e.calculate(a+t.sum)})),e.totalPrice=a})).catch((function(e){console.log(e)}))},onTableSelectChange:function(e){var t,a=[],o=Object(h["a"])(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;a.push(r.id)}}catch(l){o.e(l)}finally{o.f()}this.idarr=a},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},info:function(e){this.drawerupdate=!0,this.formoutupdate=e},submitForm:function(){var e=this;this.$refs["formout"].validate((function(t){t&&v.a.post(e.global.apiUrl+"order",e.formout,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"创建成功",type:"success"}),e.getList(),e.draweradd=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"}),e.$refs["formout"].resetFields()})).catch((function(e){console.log(e),this.$refs["formout"].resetFields()}))}))},submitFormUpdate:function(){var e=this;this.$refs["formoutupdate"].validate((function(t){t&&v.a.put(e.global.apiUrl+"order",e.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"修改成功",type:"success"}),e.getList(),e.drawerupdate=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"}),e.$refs["formoutupdate"].resetFields()})).catch((function(e){console.log(e),this.$refs["formoutupdate"].resetFields()}))}))},resetForm:function(e){this.$refs[e].resetFields()},remove:function(){var e=this,t=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"order",{data:t},{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"删除成功",type:"success"}),e.getList()):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},handleAddSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+t.response.rs),this.formout.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeAddUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传图片大小不能超过 10MB!"),t},handleUpdateSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+t.response.rs),this.formoutupdate.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeUpdateUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传头像图片大小不能超过 10MB!"),t},formoutValueChange:function(){this.formout.sum=this.calculate(this.formout.count*this.formout.price)},formoutupdateValueChange:function(){this.formoutupdate.sum=this.calculate(this.formoutupdate.count*this.formoutupdate.price),console.log(this.formoutupdate)},calculate:function(e){var t=14;return Number(I["a"](e,t))},getCurrentTime:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,a=(new Date).getDate(),o=((new Date).getHours(),(new Date).getMinutes()<10?(new Date).getMinutes():(new Date).getMinutes(),(new Date).getSeconds()<10?(new Date).getSeconds():(new Date).getSeconds(),e+"年"+t+"月"+a+"日");return o}}},$=j,O=(a("b7ce"),Object(n["a"])($,f,b,!1,null,null,null)),T=O.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("el-drawer",{attrs:{visible:e.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.draweradd=t}}},[a("div",{staticStyle:{padding:"2% 3%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%",padding:"0% 5%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"新增入库"}},[a("el-form",{ref:"formout",attrs:{rules:e.rules,model:e.formout,size:"small"}},[a("el-card",[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("订单信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"订单编号",prop:"orderId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getOrderByCode,loading:e.orderLoading},on:{change:e.orderCodeChange},model:{value:e.formout.orderId,callback:function(t){e.$set(e.formout,"orderId",t)},expression:"formout.orderId"}},e._l(e.orderOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formout.customerName,callback:function(t){e.$set(e.formout,"customerName",t)},expression:"formout.customerName"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.poNum,callback:function(t){e.$set(e.formout,"poNum",t)},expression:"formout.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.item,callback:function(t){e.$set(e.formout,"item",t)},expression:"formout.item"}})],1),a("el-form-item",{attrs:{label:"订单镀金颜色",prop:"orderColor"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formout.orderColor,callback:function(t){e.$set(e.formout,"orderColor",t)},expression:"formout.orderColor"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"总订单量",prop:"count"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.count,callback:function(t){e.$set(e.formout,"count",t)},expression:"formout.count"}})],1)],1),a("el-card",{staticStyle:{"margin-top":"3%"}},[a("i",{staticClass:"el-icon-s-claim drawer-hard"},[e._v("入库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"品名",prop:"name"}},[a("el-input",{model:{value:e.formout.name,callback:function(t){e.$set(e.formout,"name",t)},expression:"formout.name"}})],1),a("el-form-item",{attrs:{required:!0,label:"产品图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.avatarUrl,"show-file-list":!1,"on-success":e.handleAddSuccess,"before-upload":e.beforeAddUpload}},[e.formout.image?a("img",{staticClass:"avatar",attrs:{src:e.formout.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{required:!0,label:"入库镀金颜色",prop:"color"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.color,callback:function(t){e.$set(e.formout,"color",t)},expression:"formout.color"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{required:!0,label:"烤厅",prop:"bake"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.bake,callback:function(t){e.$set(e.formout,"bake",t)},expression:"formout.bake"}},e._l(e.bakeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{required:!0,label:"来料类别",prop:"incomingType"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.incomingType,callback:function(t){e.$set(e.formout,"incomingType",t)},expression:"formout.incomingType"}},e._l(e.incomingTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),5==e.formout.incomingType?a("el-form-item",{attrs:{label:"出库编号",prop:"outStorageId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getOutStorageByCode,loading:e.outStorageLoading},on:{change:e.outStorageCodeChange},model:{value:e.formout.outStorageId,callback:function(t){e.$set(e.formout,"outStorageId",t)},expression:"formout.outStorageId"}},e._l(e.outStorageCodeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),5==e.formout.incomingType?a("el-form-item",{attrs:{label:"返镀原因",prop:"incomingReason"}},[a("el-input",{model:{value:e.formout.incomingReason,callback:function(t){e.$set(e.formout,"incomingReason",t)},expression:"formout.incomingReason"}})],1):e._e(),a("el-form-item",{attrs:{required:!0,label:"总个数",prop:"bunchCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formout.bunchCount,callback:function(t){e.$set(e.formout,"bunchCount",t)},expression:"formout.bunchCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"入库数量",prop:"inCount"}},[a("el-input",{model:{value:e.formout.inCount,callback:function(t){e.$set(e.formout,"inCount",t)},expression:"formout.inCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"单位",prop:"unit"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.unit,callback:function(t){e.$set(e.formout,"unit",t)},expression:"formout.unit"}},e._l(e.unitOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("formout")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawerupdate=t}}},[a("div",{staticStyle:{padding:"2% 3%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%",padding:"0% 5%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"编辑入库"}},[a("el-form",{ref:"formoutupdate",attrs:{rules:e.rules,model:e.formoutupdate,size:"small"}},[a("el-card",[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("订单信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"订单编号",prop:"orderCode"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getOrderByCode,loading:e.orderLoading},on:{change:e.orderCodeChange},model:{value:e.formoutupdate.orderCode,callback:function(t){e.$set(e.formoutupdate,"orderCode",t)},expression:"formoutupdate.orderCode"}},e._l(e.orderOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",prop:"customerNameId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.customerNameId,callback:function(t){e.$set(e.formoutupdate,"customerNameId",t)},expression:"formoutupdate.customerNameId"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.poNum,callback:function(t){e.$set(e.formoutupdate,"poNum",t)},expression:"formoutupdate.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.item,callback:function(t){e.$set(e.formoutupdate,"item",t)},expression:"formoutupdate.item"}})],1),a("el-form-item",{attrs:{label:"订单镀金颜色",prop:"orderColorId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.orderColorId,callback:function(t){e.$set(e.formoutupdate,"orderColorId",t)},expression:"formoutupdate.orderColorId"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"烤厅",prop:"bakeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.bakeId,callback:function(t){e.$set(e.formoutupdate,"bakeId",t)},expression:"formoutupdate.bakeId"}},e._l(e.bakeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"总订单量",prop:"count"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.count,callback:function(t){e.$set(e.formoutupdate,"count",t)},expression:"formoutupdate.count"}})],1)],1),a("el-card",{staticStyle:{"margin-top":"3%"}},[a("i",{staticClass:"el-icon-s-claim drawer-hard"},[e._v("入库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"品名",prop:"name"}},[a("el-input",{model:{value:e.formoutupdate.name,callback:function(t){e.$set(e.formoutupdate,"name",t)},expression:"formoutupdate.name"}})],1),a("el-form-item",{attrs:{required:!0,label:"产品图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.avatarUrl,"show-file-list":!1,"on-success":e.handleAddSuccess,"before-upload":e.beforeAddUpload}},[e.formoutupdate.image?a("img",{staticClass:"avatar",attrs:{src:e.formoutupdate.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"入库镀金颜色",prop:"colorId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.colorId,callback:function(t){e.$set(e.formoutupdate,"colorId",t)},expression:"formoutupdate.colorId"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{required:!0,label:"烤厅",prop:"bakeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.bakeId,callback:function(t){e.$set(e.formoutupdate,"bakeId",t)},expression:"formoutupdate.bakeId"}},e._l(e.bakeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{required:!0,label:"来料类别",prop:"incomingTypeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.incomingTypeId,callback:function(t){e.$set(e.formoutupdate,"incomingTypeId",t)},expression:"formoutupdate.incomingTypeId"}},e._l(e.incomingTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),5==e.formoutupdate.incomingTypeId?a("el-form-item",{attrs:{label:"出库编号",prop:"outStorageCode"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getOutStorageByCode,loading:e.outStorageLoading},on:{change:e.outStorageCodeChange},model:{value:e.formoutupdate.outStorageCode,callback:function(t){e.$set(e.formoutupdate,"outStorageCode",t)},expression:"formoutupdate.outStorageCode"}},e._l(e.outStorageCodeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),5==e.formoutupdate.incomingTypeId?a("el-form-item",{attrs:{label:"返镀原因",prop:"incomingReason"}},[a("el-input",{model:{value:e.formoutupdate.incomingReason,callback:function(t){e.$set(e.formoutupdate,"incomingReason",t)},expression:"formoutupdate.incomingReason"}})],1):e._e(),a("el-form-item",{attrs:{required:!0,label:"总个数",prop:"bunchCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formoutupdate.bunchCount,callback:function(t){e.$set(e.formoutupdate,"bunchCount",t)},expression:"formoutupdate.bunchCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"单位",prop:"unit"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.unit,callback:function(t){e.$set(e.formoutupdate,"unit",t)},expression:"formoutupdate.unit"}},e._l(e.unitOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{required:!0,label:"入库数量",prop:"inCount"}},[a("el-input",{model:{value:e.formoutupdate.inCount,callback:function(t){e.$set(e.formoutupdate,"inCount",t)},expression:"formoutupdate.inCount"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormUpdate()}}},[e._v("提交修改")])],1)],1)],1)],1)],1)],1)])],1)],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("客户名称：")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.customerNameSelect,callback:function(t){e.customerNameSelect=t},expression:"customerNameSelect"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-col",{attrs:{span:1}},[a("span",{staticClass:"selectlable"},[e._v("编号")])]),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入编号",clearable:""},model:{value:e.codeSelect,callback:function(t){e.codeSelect=t},expression:"codeSelect"}})],1),a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("时间范围：")])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("el-col",{attrs:{span:6}},[a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(t){return e.getList()}}},[e._v("搜索")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增入库信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(t){e.draweradd=!0}}},[e._v("新增")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(t){return e.remove()}}},[e._v("删除")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:e.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[e._v("打印")])],1)],1)],1)],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{display:"none"}},[a("div",{ref:"print",attrs:{id:"print"}},e._l(e.tableDataPrint,(function(t){return a("div",{key:t.id,staticStyle:{float:"left","padding-top":"5%",width:"50%"},style:{height:e.printCellHeight}},[a("div",[a("div",[a("div",{staticStyle:{float:"left",width:"49%"}},[a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.image,fit:e.cover,tag:e.scale-e.down}})],1),a("div",{staticStyle:{float:"left",width:"45%","margin-left":"5%"}},[a("el-descriptions",{attrs:{size:e.mini,column:"1","content-class-name":"self-descriptions-item"}},[a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"编号"}},[e._v(e._s(t.code))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"品名"}},[e._v(e._s(t.name))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"入库镀金颜色"}},[e._v(e._s(t.color))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"烤厅"}},[e._v(e._s(t.bake))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"总个数"}},[e._v(e._s(t.bunchCount))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"入库数量"}},[e._v(e._s(t.inCount))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"来料类别"}},[a("el-tag",{attrs:{size:"small"}},[e._v(e._s(t.incomingType))])],1),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"创建时间"}},[e._v(e._s(t.createTime))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"客户名称"}},[e._v(e._s(t.customerName))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"PO#"}},[e._v(e._s(t.poNum))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"ITEM"}},[e._v(e._s(t.item))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"总订单量"}},[e._v(e._s(t.count))]),a("el-descriptions-item",{attrs:{"content-class-name":"self-descriptions-item","label-class-name":"self-descriptions-item",label:"订单镀金颜色"}},[e._v(e._s(t.orderColor))])],1)],1)])])])})),0)]),a("el-table",{attrs:{data:e.tableData,height:e.autoheight},on:{"selection-change":e.onTableSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),a("el-table-column",{attrs:{prop:"customerName",label:"入库客户名称",width:"110"}}),a("el-table-column",{attrs:{prop:"image",label:"产品图片",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"50%",height:"50%"}},[a("el-image",{attrs:{src:t.row.image,fit:e.contain,"preview-src-list":[t.row.image]}})],1)]}}])}),a("el-table-column",{attrs:{prop:"code",label:"编号",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"品名",width:"120"}}),a("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"160"}}),a("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"160"}}),a("el-table-column",{attrs:{prop:"orderColor",label:"订单镀金颜色",width:"110"}}),a("el-table-column",{attrs:{prop:"color",label:"入库镀金颜色",width:"110"}}),a("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"60"}}),a("el-table-column",{attrs:{prop:"count",label:"总订单量",width:"100"}}),a("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"70"}}),a("el-table-column",{attrs:{prop:"unit",label:"单位",width:"50"}}),a("el-table-column",{attrs:{prop:"inCount",label:"入库数量",width:"80"}}),a("el-table-column",{attrs:{prop:"incomingType",label:"来料类别",width:"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"140"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(a){return e.info(t.row)}}})],1)]}}])})],1)],1)],1),a("el-row",[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[20,50,100,500],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},U=[],D={name:"inStorage",data:function(){var e=this,t=function(e,t,a){if(!t)return a(new Error("不能为空"));a()},a=function(e,t,a){if(!t)return a(new Error("不能为空"));a()},o=function(e,t,a){if(!t)return a(new Error("不能为空"));a()},r=function(e,t,a){return t?t.length>100?a(new Error("长度不能超过100")):void a():a(new Error("不能为空"))},l=function(e,t,a){return t?t.length>100?a(new Error("长度不能超过100")):void a():a(new Error("不能为空"))},s=function(e,t,a){if(!t)return a(new Error("不能为空"));a()},i=function(e,t,a){return t?t.length>100?a(new Error("长度不能超过100")):void a():a(new Error("不能为空"))},n=function(e,t,a){return t?t.length>100?a(new Error("长度不能超过100")):void a():a(new Error("不能为空"))},c=function(t,a,o){if(!a&&5==e.formout.incomingType)return o(new Error("不能为空"));o()};return{tableData:[],tableDataPrint:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],incomingTypeOptions:[],orderOptions:[],outStorageCodeOptions:[],unitOptions:[{id:"1",itemName:"个"},{id:"2",itemName:"千克"},{id:"3",itemName:"克"}],codeSelect:"",formmodule:{id:"",tempOrderId:"",orderId:"",orderCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",inCount:"",price:"",sum:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},formout:{id:"",tempOrderId:"",orderId:"",orderCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",inCount:"",price:"",sum:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},formoutupdate:{id:"",tempOrderId:"",orderId:"",orderCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",inCount:"",price:"",sum:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,orderLoading:!1,outStorageLoading:!1,print:{id:"print",popTitle:"入库单",previewTitle:"入库单",extraHead:""},rules:{orderCode:[{validator:a,trigger:"blur"}],color:[{validator:t,trigger:"blur"}],name:[{validator:r,trigger:"blur"}],image:[{validator:o,trigger:"blur"}],bake:[{validator:l,trigger:"blur"}],bunchCount:[{validator:s,trigger:"blur"}],inCount:[{validator:i,trigger:"blur"}],incomingType:[{validator:n,trigger:"blur"}],outStorageCode:[{validator:c,trigger:"blur"}]},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"},printCellHeight:function(){return.69*window.innerHeight+"px"}},methods:{getType:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(t){e.customerNameOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(t){e.colorOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(t){e.bakeOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"incomingtype"}}).then((function(t){e.incomingTypeOptions=t.data.rs})).catch((function(e){console.log(e)}))},getList:function(){var e=this,t="",a="";null!=this.time&&2==this.time.length&&(t=_()(this.time[0]).format("YYYY-MM-DD HH:mm:ss"),a=_()(this.time[1]).format("YYYY-MM-DD HH:mm:ss")),v.a.get(this.global.apiUrl+"inStorage",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,code:this.codeSelect,starttime:t,endtime:a}}).then((function(t){e.tableData=t.data.list,e.tableDataPrint=t.data.list,e.totalRowCount=t.data.totalRowCount})).catch((function(e){console.log(e)}))},getListByIds:function(e){var t=this;v.a.post(this.global.apiUrl+"inStorage/ids",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t.tableDataPrint=e.data})).catch((function(e){console.log(e)}))},onTableSelectChange:function(e){var t,a=[],o=Object(h["a"])(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;a.push(r.id)}}catch(s){o.e(s)}finally{o.f()}if(this.idarr=a,0!=a){var l=JSON.parse(JSON.stringify(a));this.getListByIds(l)}},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},info:function(e){this.drawerupdate=!0,this.formoutupdate=e},submitForm:function(){var e=this;this.$refs["formout"].validate((function(t){t&&v.a.post(e.global.apiUrl+"inStorage",e.formout,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"创建成功",type:"success"}),e.getList(),e.draweradd=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"}),e.$refs["formout"].resetFields()})).catch((function(e){console.log(e),this.$refs["formout"].resetFields()}))}))},submitFormUpdate:function(){var e=this;this.$refs["formoutupdate"].validate((function(t){t&&("undefined"!=typeof e.formoutupdate.tempOrderId&&(e.formoutupdate.orderId=e.formoutupdate.tempOrderId),"undefined"!=typeof e.formoutupdate.tempOutStorageId&&(e.formoutupdate.outStorageId=e.formoutupdate.tempOutStorageId),v.a.put(e.global.apiUrl+"inStorage",e.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"修改成功",type:"success"}),e.getList(),e.drawerupdate=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"}),e.$refs["formoutupdate"].resetFields()})).catch((function(e){console.log(e),this.$refs["formoutupdate"].resetFields()})))}))},resetForm:function(e){this.$refs[e].resetFields()},remove:function(){var e=this,t=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"inStorage",{data:t},{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"删除成功",type:"success"}),e.getList()):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},handleAddSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+t.response.rs),this.formout.image=this.global.apiUrl+t.response.rs,this.$set(this.formoutupdate,"image",this.global.apiUrl+t.response.rs),this.formoutupdate.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeAddUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传图片大小不能超过 10MB!"),t},handleUpdateSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+t.response.rs),this.formoutupdate.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeUpdateUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传头像图片大小不能超过 10MB!"),t},getOrderByCode:function(e){var t=this;v.a.get(this.global.apiUrl+"order/code",{params:{code:e}}).then((function(e){0==e.data.s?(t.orderOptions=e.data.rs,t.orderLoading=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},orderCodeChange:function(e){var t=this;this.formoutupdate.tempOrderId=this.formoutupdate.orderCode,v.a.get(this.global.apiUrl+"order/id",{params:{id:e}}).then((function(e){0==e.data.s?(t.formout.customerName=e.data.rs.customerName,t.formout.poNum=e.data.rs.poNum,t.formout.item=e.data.rs.item,t.formout.count=e.data.rs.count,t.formout.orderColor=e.data.rs.color,t.formoutupdate.customerNameId=e.data.rs.customerName,t.formoutupdate.poNum=e.data.rs.poNum,t.formoutupdate.item=e.data.rs.item,t.formoutupdate.count=e.data.rs.count,t.formoutupdate.orderColorId=e.data.rs.color):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},getOutStorageByCode:function(e){var t=this;v.a.get(this.global.apiUrl+"outStorage/code",{params:{code:e}}).then((function(e){0==e.data.s?(t.outStorageCodeOptions=e.data.rs,t.outStorageLoading=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},outStorageCodeChange:function(){this.formoutupdate.tempOutStorageId=this.formoutupdate.outStorageCode}}},L=D,H=(a("65da"),Object(n["a"])(L,z,U,!1,null,null,null)),M=H.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("el-drawer",{attrs:{visible:e.draweradd,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.draweradd=t}}},[a("div",{staticStyle:{padding:"2% 3%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%",padding:"0% 5%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"新增出库"}},[a("el-form",{ref:"formout",attrs:{rules:e.rules,model:e.formout,size:"small"}},[a("el-card",[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("订单及入库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"入库编号",prop:"inStorageId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getInStorageByCode,loading:e.inStorageLoading},on:{change:e.inStorageCodeChange},model:{value:e.formout.inStorageId,callback:function(t){e.$set(e.formout,"inStorageId",t)},expression:"formout.inStorageId"}},e._l(e.inStorageOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formout.customerName,callback:function(t){e.$set(e.formout,"customerName",t)},expression:"formout.customerName"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"品名",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.name,callback:function(t){e.$set(e.formout,"name",t)},expression:"formout.name"}})],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.poNum,callback:function(t){e.$set(e.formout,"poNum",t)},expression:"formout.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.item,callback:function(t){e.$set(e.formout,"item",t)},expression:"formout.item"}})],1),a("el-form-item",{attrs:{label:"总订单量",prop:"count"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formout.count,callback:function(t){e.$set(e.formout,"count",t)},expression:"formout.count"}})],1),a("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.avatarUrl,"show-file-list":!1,"on-success":e.handleAddSuccess,"before-upload":e.beforeAddUpload,disabled:""}},[e.formout.image?a("img",{staticClass:"avatar",attrs:{src:e.formout.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formout.color,callback:function(t){e.$set(e.formout,"color",t)},expression:"formout.color"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"烤厅",prop:"bake"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formout.bake,callback:function(t){e.$set(e.formout,"bake",t)},expression:"formout.bake"}},e._l(e.bakeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1)],1),a("el-card",{staticStyle:{"margin-top":"3%"}},[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("出库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"总个数",prop:"bunchCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formout.bunchCount,callback:function(t){e.$set(e.formout,"bunchCount",t)},expression:"formout.bunchCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"出库数量",prop:"outCount"}},[a("el-input",{model:{value:e.formout.outCount,callback:function(t){e.$set(e.formout,"outCount",t)},expression:"formout.outCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"出库类型",prop:"outType"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formout.outType,callback:function(t){e.$set(e.formout,"outType",t)},expression:"formout.outType"}},e._l(e.outTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("formout")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerupdate,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawerupdate=t}}},[a("div",{staticStyle:{padding:"2% 3%"}},[a("el-tabs",[a("el-tab-pane",{staticStyle:{"margin-top":"4%",padding:"0% 5%","overflow-y":"scroll"},style:{height:e.scrollerHeight},attrs:{label:"编辑出库"}},[a("el-form",{ref:"formoutupdate",attrs:{rules:e.rules,model:e.formoutupdate,size:"small"}},[a("el-card",[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("订单及入库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"入库编号",prop:"inStorageCode"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入订单编号","remote-method":e.getInStorageByCode,loading:e.inStorageLoading},on:{change:e.inStorageCodeChange},model:{value:e.formoutupdate.inStorageCode,callback:function(t){e.$set(e.formoutupdate,"inStorageCode",t)},expression:"formoutupdate.inStorageCode"}},e._l(e.inStorageOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.customerNameId,callback:function(t){e.$set(e.formoutupdate,"customerNameId",t)},expression:"formoutupdate.customerNameId"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"品名",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.name,callback:function(t){e.$set(e.formoutupdate,"name",t)},expression:"formoutupdate.name"}})],1),a("el-form-item",{attrs:{label:"PO#",prop:"poNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.poNum,callback:function(t){e.$set(e.formoutupdate,"poNum",t)},expression:"formoutupdate.poNum"}})],1),a("el-form-item",{attrs:{label:"ITEM",prop:"item"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.item,callback:function(t){e.$set(e.formoutupdate,"item",t)},expression:"formoutupdate.item"}})],1),a("el-form-item",{attrs:{label:"订单总量",prop:"count"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formoutupdate.count,callback:function(t){e.$set(e.formoutupdate,"count",t)},expression:"formoutupdate.count"}})],1),a("el-form-item",{attrs:{label:"产品图片",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.avatarUrl,"show-file-list":!1,"on-success":e.handleUpdateSuccess,"before-upload":e.beforeUpdateUpload,disabled:""}},[e.formoutupdate.image?a("img",{staticClass:"avatar",attrs:{src:e.formoutupdate.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"镀金颜色",prop:"color"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.colorId,callback:function(t){e.$set(e.formoutupdate,"colorId",t)},expression:"formoutupdate.colorId"}},e._l(e.colorOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"烤厅",prop:"bakeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:""},model:{value:e.formoutupdate.bakeId,callback:function(t){e.$set(e.formoutupdate,"bakeId",t)},expression:"formoutupdate.bakeId"}},e._l(e.bakeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1)],1),a("el-card",{staticStyle:{"margin-top":"3%"}},[a("i",{staticClass:"el-icon-s-order drawer-hard"},[e._v("出库信息")]),a("el-divider"),a("el-form-item",{attrs:{required:!0,label:"总个数",prop:"bunchCount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.formoutupdate.bunchCount,callback:function(t){e.$set(e.formoutupdate,"bunchCount",t)},expression:"formoutupdate.bunchCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"出库数量",prop:"outCount"}},[a("el-input",{model:{value:e.formoutupdate.outCount,callback:function(t){e.$set(e.formoutupdate,"outCount",t)},expression:"formoutupdate.outCount"}})],1),a("el-form-item",{attrs:{required:!0,label:"出库类型",prop:"outType"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formoutupdate.outType,callback:function(t){e.$set(e.formoutupdate,"outType",t)},expression:"formoutupdate.outType"}},e._l(e.outTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormUpdate()}}},[e._v("提交修改")])],1)],1)],1)],1)],1)])],1)],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("客户名称：")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.customerNameSelect,callback:function(t){e.customerNameSelect=t},expression:"customerNameSelect"}},e._l(e.customerNameOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-col",{attrs:{span:1}},[a("span",{staticClass:"selectlable"},[e._v("编号")])]),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入编号",clearable:""},model:{value:e.codeSelect,callback:function(t){e.codeSelect=t},expression:"codeSelect"}})],1),a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("时间范围：")])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("el-col",{attrs:{span:6}},[a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"搜索信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:function(t){return e.getList()}}},[e._v("搜索")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新增出库信息",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"small",round:""},on:{click:function(t){e.draweradd=!0}}},[e._v("新增")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"删除",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-remove",size:"small",round:""},on:{click:function(t){return e.remove()}}},[e._v("删除")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"打印",placement:"bottom"}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:e.print,expression:"print"}],attrs:{type:"primary",icon:"el-icon-printer",size:"small",round:""}},[e._v("打印")])],1)],1)],1)],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{display:"none"}},[a("el-table",{ref:"print",attrs:{id:"print",data:e.tableData},on:{"selection-change":e.onTableSelectChange}},[a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"100"}}),a("el-table-column",{attrs:{prop:"code",label:"编号",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"品名",width:"50"}}),a("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"100"}}),a("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"100"}}),a("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"50"}}),a("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"50"}}),a("el-table-column",{attrs:{prop:"count",label:"总订单量",width:"50"}}),a("el-table-column",{attrs:{prop:"outType",label:"出库类型",width:"50"}}),a("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"80"}}),a("el-table-column",{attrs:{prop:"outCount",label:"出库数量",width:"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"100"}})],1)],1),a("el-table",{attrs:{data:e.tableData,height:e.autoheight},on:{"selection-change":e.onTableSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"140"}}),a("el-table-column",{attrs:{prop:"image",label:"产品图片",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"50%",height:"50%"}},[a("el-image",{attrs:{src:t.row.image,fit:e.contain,"preview-src-list":[t.row.image]}})],1)]}}])}),a("el-table-column",{attrs:{prop:"code",label:"编号",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"品名",width:"140"}}),a("el-table-column",{attrs:{prop:"poNum",label:"PO#",width:"180"}}),a("el-table-column",{attrs:{prop:"item",label:"ITEM",width:"180"}}),a("el-table-column",{attrs:{prop:"color",label:"镀金颜色",width:"100"}}),a("el-table-column",{attrs:{prop:"bake",label:"烤厅",width:"60"}}),a("el-table-column",{attrs:{prop:"count",label:"总订单量",width:"100"}}),a("el-table-column",{attrs:{prop:"outType",label:"出库类型",width:"80"}}),a("el-table-column",{attrs:{prop:"inCount",label:"入库数量",width:"80"}}),a("el-table-column",{attrs:{prop:"bunchCount",label:"总个数",width:"70"}}),a("el-table-column",{attrs:{prop:"outCount",label:"出库数量",width:"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"详情",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",circle:""},on:{click:function(a){return e.info(t.row)}}})],1)]}}])})],1)],1)],1),a("el-row",[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[20,50,100,500],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},F=[],B=(a("b0c0"),{name:"outStorage",data:function(){var e=function(e,t,a){return t?t.length>100?a(new Error("长度不能超过100")):void a():a(new Error("不能为空"))};return{tableData:[],customerNameSelect:"",customerNameOptions:[],colorOptions:[],bakeOptions:[],inStorageOptions:[],codeSelect:"",outTypeOptions:[{id:"1",itemName:"良品"},{id:"2",itemName:"不良"},{id:"3",itemName:"来料异常"},{id:"4",itemName:"白金出库"},{id:"5",itemName:"硫酸铜出库"},{id:"6",itemName:"其他"}],formmodule:{id:"",tempInStorageId:"",inStorageId:"",inStorageCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",outCount:"",outType:"",outTypeId:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},formout:{id:"",tempInStorageId:"",inStorageId:"",inStorageCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",outCount:"",outType:"",outTypeId:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},formoutupdate:{id:"",tempInStorageId:"",inStorageId:"",inStorageCode:"",code:"",customerName:"",customerNameId:"",image:"",name:"",poNum:"",item:"",color:"",colorId:"",count:"",bunchCount:"",bake:"",bakeId:"",outCount:"",outType:"",outTypeId:"",incomingType:"",incomingTypeId:"",createTime:"",modifiedTime:"",isDelete:""},pageIndex:1,pageSize:50,totalRowCount:0,idarr:[],avatarUrl:"",customerNameItem:"",time:[],draweradd:!1,drawerupdate:!1,inStorageLoading:!1,print:{id:"print",popTitle:"出库单",previewTitle:"出库单"},rules:{outCount:[{validator:e,trigger:"blur"}]},autoheight:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},created:function(){this.getList(),this.getType(),this.autoheight=window.innerHeight-250,this.avatarUrl=this.global.apiUrl+"outStorage/image"},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}},methods:{getType:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(t){e.customerNameOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(t){e.colorOptions=t.data.rs})).catch((function(e){console.log(e)})),v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(t){e.bakeOptions=t.data.rs})).catch((function(e){console.log(e)}))},getList:function(){var e=this,t="",a="";null!=this.time&&2==this.time.length&&(t=_()(this.time[0]).format("YYYY-MM-DD HH:mm:ss"),a=_()(this.time[1]).format("YYYY-MM-DD HH:mm:ss")),v.a.get(this.global.apiUrl+"outStorage",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,customerNameItem:this.customerNameSelect,code:this.codeSelect,starttime:t,endtime:a}}).then((function(t){e.tableData=t.data.list,e.totalRowCount=t.data.totalRowCount})).catch((function(e){console.log(e)}))},onTableSelectChange:function(e){var t,a=[],o=Object(h["a"])(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;a.push(r.id)}}catch(l){o.e(l)}finally{o.f()}this.idarr=a},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},info:function(e){this.drawerupdate=!0,this.formoutupdate=e},submitForm:function(e){var t=this;this.$refs["formout"].validate((function(e){e&&v.a.post(t.global.apiUrl+"outStorage",t.formout,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"创建成功",type:"success"}),t.getList(),t.draweradd=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"}),t.formout=t.formmodule})).catch((function(e){console.log(e),this.formout=this.formmodule}))}))},submitFormUpdate:function(){var e=this;this.$refs["formoutupdate"].validate((function(t){t&&("undefined"!=typeof e.formoutupdate.tempInStorageId&&(e.formoutupdate.inStorageId=e.formoutupdate.tempInStorageId),v.a.put(e.global.apiUrl+"outStorage",e.formoutupdate,{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"修改成功",type:"success"}),e.getList(),e.drawerupdate=!1):e.$message({showClose:!0,message:t.data.rs,type:"error"}),e.formoutupdate=e.formmodule})).catch((function(e){console.log(e),this.formoutupdate=this.formmodule})))}))},resetForm:function(e){this.$refs[e].resetFields()},remove:function(){var e=this,t=JSON.parse(JSON.stringify(this.idarr));v.a.delete(this.global.apiUrl+"outStorage",{data:t},{headers:{"Content-Type":"application/json"}}).then((function(t){"0"==t.data.s?(e.$message({showClose:!0,message:"删除成功",type:"success"}),e.getList()):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},handleAddSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formout,"image",this.global.apiUrl+t.response.rs),this.formout.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeAddUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传图片大小不能超过 10MB!"),t},handleUpdateSuccess:function(e,t){0==e.s?(console.log("success"),this.$set(this.formoutupdate,"image",this.global.apiUrl+t.response.rs),this.formoutupdate.image=this.global.apiUrl+t.response.rs):this.$message({showClose:!0,message:e.rs,type:"error"})},beforeUpdateUpload:function(e){e.type;var t=e.size/1024/1024<10;return t||this.$message.error("上传头像图片大小不能超过 10MB!"),t},getInStorageByCode:function(e){var t=this;v.a.get(this.global.apiUrl+"inStorage/code",{params:{code:e}}).then((function(e){0==e.data.s?(t.inStorageOptions=e.data.rs,t.inStorageLoading=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))},inStorageCodeChange:function(e){var t=this;this.formoutupdate.tempInStorageId=this.formoutupdate.inStorageCode,v.a.get(this.global.apiUrl+"inStorage/id",{params:{id:e}}).then((function(e){0==e.data.s?(t.formout.customerName=e.data.rs.customerName,t.formout.poNum=e.data.rs.poNum,t.formout.item=e.data.rs.item,t.formout.count=e.data.rs.count,t.formout.name=e.data.rs.name,t.formout.image=e.data.rs.image,t.formout.color=e.data.rs.color,t.formout.bake=e.data.rs.bake,t.formoutupdate.customerNameId=e.data.rs.customerName,t.formoutupdate.poNum=e.data.rs.poNum,t.formoutupdate.item=e.data.rs.item,t.formoutupdate.count=e.data.rs.count,t.formoutupdate.name=e.data.rs.name,t.formoutupdate.image=e.data.rs.image,t.formoutupdate.colorId=e.data.rs.color,t.formoutupdate.bakeId=e.data.rs.bake):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))}}}),R=B,P=(a("b49f"),Object(n["a"])(R,E,F,!1,null,null,null)),q=P.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"row"},[a("span",{staticClass:"boxlable"},[e._v("客户名称")])]),a("el-row",{staticClass:"row"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(t){e.drawercustomer=!0}}},[e._v("新增")])],1),a("el-table",{attrs:{data:e.tableCustomer,height:e.autoheight}},[a("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"row"},[a("span",{staticClass:"boxlable"},[e._v("镀金颜色")])]),a("el-row",{staticClass:"row"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(t){e.drawercolor=!0}}},[e._v("新增")])],1),a("el-table",{attrs:{data:e.tableColor,height:e.autoheight}},[a("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1)],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"row"},[a("span",{staticClass:"boxlable"},[e._v("烤厅")])]),a("el-row",{staticClass:"row"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(t){e.drawerct=!0}}},[e._v("新增")])],1),a("el-table",{attrs:{data:e.tableCt,height:e.autoheight}},[a("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"row"},[a("span",{staticClass:"boxlable"},[e._v("来料类别")])]),a("el-row",{staticClass:"row"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add",size:"mini",round:""},on:{click:function(t){e.drawercomingtype=!0}}},[e._v("新增")])],1),a("el-table",{attrs:{data:e.tableComingtype,height:e.autoheight}},[a("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"itemName",label:"内容名称"}})],1)],1)],1)],1),a("el-drawer",{attrs:{visible:e.drawercustomer,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawercustomer=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("div",{staticStyle:{"padding-bottom":"1%"}},[a("span",{staticClass:"boxlable"},[e._v("客户名称")])]),a("el-divider"),a("el-form",{ref:"formCustomer",attrs:{rules:e.rules,model:e.formCustomer,size:"small"}},[a("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formCustomer.itemName,callback:function(t){e.$set(e.formCustomer,"itemName",t)},expression:"formCustomer.itemName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("customer")}}},[e._v("添加")])],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawercolor,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawercolor=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("div",{staticStyle:{"padding-bottom":"1%"}},[a("span",{staticClass:"boxlable"},[e._v("镀金颜色")])]),a("el-divider"),a("el-form",{ref:"formColor",attrs:{rules:e.rules,model:e.formColor,size:"small"}},[a("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formColor.itemName,callback:function(t){e.$set(e.formColor,"itemName",t)},expression:"formColor.itemName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("color")}}},[e._v("添加")])],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerct,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawerct=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("div",{staticStyle:{"padding-bottom":"1%"}},[a("span",{staticClass:"boxlable"},[e._v("烤厅")])]),a("el-divider"),a("el-form",{ref:"formCt",attrs:{rules:e.rules,model:e.formCt,size:"small"}},[a("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formCt.itemName,callback:function(t){e.$set(e.formCt,"itemName",t)},expression:"formCt.itemName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ct")}}},[e._v("添加")])],1)],1)],1)]),a("el-drawer",{attrs:{visible:e.drawercomingtype,"with-header":!1,size:"50%"},on:{"update:visible":function(t){e.drawercomingtype=t}}},[a("div",{staticStyle:{padding:"4% 10%"}},[a("div",{staticStyle:{"padding-bottom":"1%"}},[a("span",{staticClass:"boxlable"},[e._v("来料类别")])]),a("el-divider"),a("el-form",{ref:"formComingtype",attrs:{rules:e.rules,model:e.formComingtype,size:"small"}},[a("el-form-item",{attrs:{label:"内容",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formComingtype.itemName,callback:function(t){e.$set(e.formComingtype,"itemName",t)},expression:"formComingtype.itemName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("incomingtype")}}},[e._v("添加")])],1)],1)],1)])],1)},A=[],J={name:"dict",data:function(){var e=function(e,t,a){if(!t)return a(new Error("不能为空"));a()};return{tableCustomer:[],tableColor:[],tableCt:[],tableComingtype:[],formCustomer:{},formColor:{},formCt:{},formComingtype:{},drawercustomer:!1,drawercolor:!1,drawerct:!1,drawercomingtype:!1,rules:{itemName:[{validator:e,trigger:"blur"}]}}},created:function(){this.getCustomerDictList(),this.getColorDictList(),this.getCtDictList(),this.getComingtypeDictList(),this.autoheight=window.innerHeight/2-200},computed:{scrollerHeight:function(){return window.innerHeight-150+"px"}},methods:{getCustomerDictList:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"customer"}}).then((function(t){e.tableCustomer=t.data.rs})).catch((function(e){console.log(e)}))},getColorDictList:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"color"}}).then((function(t){e.tableColor=t.data.rs})).catch((function(e){console.log(e)}))},getCtDictList:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"ct"}}).then((function(t){e.tableCt=t.data.rs})).catch((function(e){console.log(e)}))},getComingtypeDictList:function(){var e=this;v.a.get(this.global.apiUrl+"dict/items",{params:{type:"incomingtype"}}).then((function(t){e.tableComingtype=t.data.rs})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this,a={};"customer"==e?a={type:e,typeName:"客户名称",itemName:this.formCustomer.itemName}:"color"==e?a={type:e,typeName:"镀金颜色",itemName:this.formColor.itemName}:"ct"==e?a={type:e,typeName:"烤厅",itemName:this.formCt.itemName}:"incomingtype"==e&&(a={type:e,typeName:"来料类别",itemName:this.formComingtype.itemName}),v.a.post(this.global.apiUrl+"dict/item",a,{headers:{"Content-Type":"application/json"}}).then((function(e){"0"==e.data.s?(t.$message({showClose:!0,message:"创建成功",type:"success"}),t.getCustomerDictList(),t.getColorDictList(),t.getCtDictList(),t.getComingtypeDictList(),t.drawercustomer=!1,t.drawercolor=!1,t.drawerct=!1,t.drawercomingtype=!1):t.$message({showClose:!0,message:e.data.rs,type:"error"})})).catch((function(e){console.log(e)}))}}},V=J,G=(a("c69a"),Object(n["a"])(V,Y,A,!1,null,null,null)),K=G.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",style:{height:e.scrollerHeight}},[a("el-row",{staticClass:"row"},[a("i",{staticClass:"el-icon-s-data selectlable"}),a("span",{staticClass:"boxlable"},[e._v("订单统计")])]),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable"},[e._v("月份：")])]),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:e.orderChange},model:{value:e.ordermonth,callback:function(t){e.ordermonth=t},expression:"ordermonth"}})],1)],1),a("el-divider"),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v("总计")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v("镀金颜色分类统计")])])],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v(e._s(this.orderStatistics))])]),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"overflow-y":"scroll"},style:{height:e.scrollerHeightDiv}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderByColor,"default-sort":{prop:"count",order:"descending"}}},[a("el-table-column",{attrs:{prop:"color",label:"镀金颜色",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"总量",sortable:"",width:"80"}})],1)],1)])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",style:{height:e.scrollerHeight}},[a("el-row",{staticClass:"row"},[a("i",{staticClass:"el-icon-s-data selectlable"}),a("span",{staticClass:"boxlable"},[e._v("入库统计")])]),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:2}},[a("span",{staticClass:"selectlable selectrow"},[e._v("月份：")])]),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:e.inStorageChange},model:{value:e.inStoragemonth,callback:function(t){e.inStoragemonth=t},expression:"inStoragemonth"}})],1)],1),a("el-divider"),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v("总计")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v("返修统计")])])],1),a("el-row",{staticClass:"row selectrow"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"numlable"},[e._v(e._s(this.inStorageStatistics))])]),a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"boxlable"},[e._v("返镀件个数")])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"boxlable"},[e._v(e._s(this.reInStorageCount))])])],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:18}},[a("span",{staticClass:"boxlable"},[e._v("返修率")])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"boxlable"},[e._v(e._s(this.reInStorageRatio)+"%")])])],1)],1)],1)],1)],1)],1)],1)},W=[],X={name:"report",data:function(){return{ordermonth:"",inStoragemonth:"",orderStatistics:0,inStorageStatistics:0,orderByColor:[],reInStorageCount:0,reInStorageRatio:0}},created:function(){this.autoheight=window.innerHeight/2-200},computed:{scrollerHeight:function(){return window.innerHeight-150+"px"},scrollerHeightDiv:function(){return window.innerHeight-400+"px"}},methods:{getOrderStatistics:function(){var e=this;null!=this.ordermonth?v.a.get(this.global.apiUrl+"order/statistics",{params:{time:this.ordermonth}}).then((function(t){0==t.data.s?e.orderStatistics=t.data.rs:e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)})):this.orderStatistics=0},getOrderStatisticsColor:function(){var e=this;null!=this.ordermonth?v.a.get(this.global.apiUrl+"order/statistics/color",{params:{time:this.ordermonth}}).then((function(t){0==t.data.s?e.orderByColor=t.data.rs:e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)})):this.orderByColor=[]},getInStorageStatistics:function(){var e=this;null!=this.inStoragemonth?v.a.get(this.global.apiUrl+"inStorage/statistics",{params:{time:this.inStoragemonth}}).then((function(t){0==t.data.s?e.inStorageStatistics=t.data.rs:e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)})):this.inStorageStatistics=0},getInStorageStatisticsRatio:function(){var e=this;null!=this.inStoragemonth?v.a.get(this.global.apiUrl+"inStorage/statistics/reratio",{params:{time:this.inStoragemonth}}).then((function(t){0==t.data.s?(e.reInStorageRatio=t.data.rs.ratio,e.reInStorageCount=t.data.rs.recount):e.$message({showClose:!0,message:t.data.rs,type:"error"})})).catch((function(e){console.log(e)})):this.inStorageStatistics=0},orderChange:function(e){console.log(e),this.getOrderStatistics(),this.getOrderStatisticsColor()},inStorageChange:function(e){console.log(e),this.getInStorageStatistics(),this.getInStorageStatisticsRatio()}}},Z=X,ee=(a("c402"),Object(n["a"])(Z,Q,W,!1,null,null,null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"},style:{height:e.scrollerHeight}},[a("P",[a("span",{staticStyle:{"font-family":"微软雅黑","font-size":"40px","font-weight":"bold",color:"#999"}},[e._v("库存管理系统")])])],1)},oe=[],re={name:"Index",data:function(){return{}},created:function(){},computed:{scrollerHeight:function(){return window.innerHeight-100+"px"}}},le=re,se=Object(n["a"])(le,ae,oe,!1,null,"f53c89f4",null),ie=se.exports,ne=[{path:"/",component:ie,meta:{title:"Index"}},{path:"/order",component:T,meta:{title:"order"}},{path:"/inStorage",component:M,meta:{title:"inStorage"}},{path:"/outStorage",component:q,meta:{title:"outStorage"}},{path:"/dict",component:K,meta:{title:"dict"}},{path:"/report",component:te,meta:{title:"report"}}],ce=ne,ue=a("313e"),me=a.n(ue),de=(a("ac1f"),a("1276"),window.location.href.split("#")[0]),pe={apiUrl:de},fe=a("7b1d"),be=a.n(fe);o["default"].config.productionTip=!1,o["default"].use(d.a),o["default"].use(p["a"]),o["default"].use(be.a),o["default"].prototype.$echarts=me.a,o["default"].prototype.global=pe;var he=new p["a"]({routes:ce});document.title="仓储管理系统",new o["default"]({router:he,render:function(e){return e(u)}}).$mount("#app")},"65da":function(e,t,a){"use strict";a("7628")},"72cd":function(e,t,a){"use strict";a("936d")},7628:function(e,t,a){},8003:function(e,t,a){},"85ec":function(e,t,a){},"936d":function(e,t,a){},a8ec:function(e,t,a){},b49f:function(e,t,a){"use strict";a("8003")},b7ce:function(e,t,a){"use strict";a("c010")},c010:function(e,t,a){},c402:function(e,t,a){"use strict";a("4841")},c69a:function(e,t,a){"use strict";a("a8ec")}});
//# sourceMappingURL=app.bf483aad.js.map